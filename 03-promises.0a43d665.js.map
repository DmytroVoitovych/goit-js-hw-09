{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAQC,SAASC,cAAc,mBAC/BC,EAAOF,SAASC,cAAc,iBAC9BE,EAASH,SAASC,cAAc,kBAChCG,EAASJ,SAASC,cAAc,mBA2C3BF,EAALM,iBAAiB,SAAS,KAC9BN,EAAMO,aAAa,WAAY,YAC/BC,YAAW,IAAMR,EAAMS,gBAAgB,aAXnB,IAAhBL,EAAOM,OAA6B,IAAdP,EAAKO,OACrBN,EAAOM,QAAUP,EAAKO,OAASL,EAAOK,MAAQ,OAE/CL,EAAOK,MAAQ,KAAO,KAW/B,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAOK,MAAOC,GAAK,EAChCH,YAAW,KA9CpB,IAAuBI,EAAUC,GAAVD,EA+CAD,EA/CUE,EA+CPT,EAAOM,MA7CxB,IAAII,SAAQ,CAACC,EAASC,KAE3BR,YAAW,KAEaS,KAAKC,SAAW,GAIpCH,EACE,C,SACEH,E,MACAC,IAKJG,EAAO,C,SACLJ,E,MACAC,OAIFA,OAuBgCM,MAAK,EAACP,SAAEA,EAAQC,MAAEA,MAC/C,MAAMO,GAAoBP,EAAQF,GAAKR,EAAKO,MACtCW,GAAgBT,EAAW,EAChCU,QAAQC,IAAI,uBAAqBF,QAAqBD,OACvDtB,EAAA0B,OAAOC,QAAQ,uBAAqBJ,QAAqBD,UACxDM,OAAM,EAACd,SAAEA,EAAQC,MAAEA,MACvB,MAAMO,GAAoBP,EAAQF,GAAKR,EAAKO,MACnCW,GAAgBT,EAAW,EACnCU,QAAQC,IAAI,sBAAoBF,QAAqBD,OACrDtB,EAAA0B,OAAOG,QAAQ,sBAAoBN,QAAmBD,YAExDT,GAAKR,EAAKO,UAKjBV,EAAMM,iBAAiB,SADLsB,GAAMA,EAAEC","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst start = document.querySelector('[type=\"submit\"]');\nconst step = document.querySelector('[name=\"step\"]');\nconst delayQ = document.querySelector('[name=\"delay\"]');\nconst amount = document.querySelector('[name=\"amount\"]');\n//  let a = \n//   ;\nfunction createPromise(position, delay) {\n  \n  return new Promise((resolve, reject) => {\n  \n    setTimeout(() => {\n     \n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        // Fulfill\n         \n        resolve(\n          {\n            position,\n            delay,\n          }\n        )\n      } else {\n        // Reject\n        reject({\n          position,\n          delay,\n        }\n        )\n      }\n    }, +delay )\n  });\n \n};\n//функция контроля кнопки по времени\nconst num = 2600;\nconst disabledButton = () => {\n  if (delayQ.value != \"\" && step.value != \"\")\n  { return +delayQ.value + (+step.value * +amount.value + +num); }\n  else {\n   return +amount.value + +num + 400;\n  }\n};\n\n//генерация по\n\nstart.addEventListener('click', () => { \n  start.setAttribute('disabled', 'disabled');\n  setTimeout(() => start.removeAttribute('disabled'),\n    disabledButton());\n   \n  for (let i = 0; i < amount.value; i += 1) {\n         setTimeout(() => {\n         createPromise(i, delayQ.value).then(({ position, delay }) => {\n           const descriptionTime = (+delay + i * +step.value);\n           const positionTime = +position + 1;\n            console.log(`✅ Fulfilled promise ${positionTime} in ${descriptionTime}ms`);\n           Notify.success(`✅ Fulfilled promise ${positionTime} in ${descriptionTime}ms`);\n         }).catch(({ position, delay }) => {\n        const descriptionTime = (+delay + i * +step.value);\n           const positionTime = +position + 1;\n         console.log(`❌ Rejected promise ${positionTime} in ${descriptionTime}ms`);\n         Notify.failure(`❌ Rejected promise ${positionTime} in ${descriptionTime}ms`);;\n      });\n    }, i * +step.value);\n  };\n  });\n\nconst stopLink = (e) => e.preventDefault();\nstart.addEventListener('click', stopLink);"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$start","document","querySelector","$47d4ff9957288465$var$step","$47d4ff9957288465$var$delayQ","$47d4ff9957288465$var$amount","addEventListener","setAttribute","setTimeout","removeAttribute","value","i","position","delay","Promise","resolve","reject","Math","random","then","descriptionTime","positionTime","console","log","Notify","success","catch","failure","e","preventDefault"],"version":3,"file":"03-promises.0a43d665.js.map"}