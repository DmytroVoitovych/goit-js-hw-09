{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAQC,SAASC,cAAc,mBAC/BC,EAAOF,SAASC,cAAc,iBAC9BE,EAASH,SAASC,cAAc,kBAChCG,EAASJ,SAASC,cAAc,mBAsCtBF,EAAVM,iBAAiB,SAAS,WAC9BN,EAAMO,aAAa,WAAY,YAC/BC,YAAW,W,OAAMR,EAAMS,gBAAgB,cAVnB,IAAhBL,EAAOM,OAA6B,IAAdP,EAAKO,OACrBN,EAAOM,QAAUP,EAAKO,OAASL,EAAOK,MAAQ,OAE/CL,EAAOK,MAAQ,KAAO,KAS/B,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAOK,MAAOC,GAAK,EACrCH,YAAW,WAzCf,IAAuBI,EAAUC,GAAVD,EA0CHT,EAAKO,MA1CQG,EA0CDT,EAAOM,MAxC7B,IAAII,SAAQ,SAACC,EAASC,GAC5BR,YAAW,WACaS,KAAKC,SAAW,GAGpCH,EACE,CACEH,WACAC,UAKJG,EAAO,CACLJ,WACAC,YAIHA,OAqBuCM,MAAK,SAAAC,G,IAAGR,EAAQQ,EAARR,SAAUC,EAAKO,EAALP,MACxDQ,QAAQC,IAAI,uBAAwCC,OAAfX,EAAS,QAAYW,OAANV,EAAM,OACvDf,EAAA0B,OAAOC,QAAQ,uBAAwCF,OAAfX,EAAS,QAAYW,OAANV,EAAM,UAC/Da,OAAM,SAAAN,G,IAAGR,EAAQQ,EAARR,SAAUC,EAAKO,EAALP,MACnBQ,QAAQC,IAAI,sBAAuCC,OAAfX,EAAS,QAAYW,OAANV,EAAM,OACzDf,EAAA0B,OAAOG,QAAQ,sBAAqCJ,OAAfX,EAAS,QAAYW,OAANV,EAAM,YAE5DF,EAAIR,EAAKO,UAKhBV,EAAMM,iBAAiB,SADN,SAACsB,G,OAAMA,EAAEC,oB","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst start = document.querySelector('[type=\"submit\"]');\nconst step = document.querySelector('[name=\"step\"]');\nconst delayQ = document.querySelector('[name=\"delay\"]');\nconst amount = document.querySelector('[name=\"amount\"]');\n\nfunction createPromise(position, delay) {\n    \n  return  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        // Fulfill\n        resolve(\n          {\n            position,\n            delay\n          }\n        )\n      } else {\n        // Reject\n        reject({\n          position,\n          delay\n        }\n        )\n      }\n    }, delay)\n  });\n \n};\n//функция контроля кнопки по времени\nconst num = 2600;\nconst disabledButton = () => {\n  if (delayQ.value != \"\" && step.value != \"\")\n  { return +delayQ.value + (+step.value * +amount.value + +num); }\n  else {\n   return +amount.value + +num + 400;\n  }\n};\n\n//генерация по клику\nstart.addEventListener('click', () => {\n  start.setAttribute('disabled', 'disabled');\n  setTimeout(() => start.removeAttribute('disabled'),\n   disabledButton());\n  for (let i = 0; i < amount.value; i += 1) {\n    setTimeout(() => {\n      createPromise(step.value, delayQ.value).then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n           Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }).catch(({ position, delay }) => {\n         console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n         Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);;\n      });\n    }, i * step.value);\n  };\n  });\n\nconst stopLink = (e) => e.preventDefault();\nstart.addEventListener('click', stopLink);"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$start","document","querySelector","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$delayQ","$ce04d3a99e08e73b$var$amount","addEventListener","setAttribute","setTimeout","removeAttribute","value","i","position","delay","Promise","resolve","reject","Math","random","then","param","console","log","concat","Notify","success","catch","failure","e","preventDefault"],"version":3,"file":"03-promises.71a41f98.js.map"}