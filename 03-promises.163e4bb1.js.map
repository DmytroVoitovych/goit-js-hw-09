{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAQC,SAASC,cAAc,mBAC/BC,EAAOF,SAASC,cAAc,iBAC9BE,EAASH,SAASC,cAAc,kBAChCG,EAASJ,SAASC,cAAc,mBA2C3BF,EAALM,iBAAiB,SAAS,W,kBAMvBC,YAAW,WA9CpB,IAAuBC,EAAUC,GAAVD,EA+CAE,EA/CUD,EA+CPL,EAAOO,MA7CxB,IAAIC,SAAQ,SAACC,EAASC,GAE3BP,YAAW,WAEaQ,KAAKC,SAAW,GAIpCH,EACE,CACEL,WACAC,UAKJK,EAAO,CACLN,WACAC,aAIFA,OAuBgCQ,MAAK,SAAAC,G,IAAGV,EAAQU,EAARV,SAC/BW,GAD8CD,EAALT,MACbC,GAAKP,EAAKQ,MACtCS,GAAgBZ,EAAW,EAChCa,QAAQC,IAAI,uBAA4CC,OAAnBH,EAAa,QAAsBG,OAAhBJ,EAAgB,OACzErB,EAAA0B,OAAOC,QAAQ,uBAA4CF,OAAnBH,EAAa,QAAsBG,OAAhBJ,EAAgB,UAC1EO,OAAM,SAAAR,G,IAAGV,EAAQU,EAARV,SACPW,GADsBD,EAALT,MACWC,GAAKP,EAAKQ,MACnCS,GAAgBZ,EAAW,EACnCa,QAAQC,IAAI,sBAA2CC,OAAnBH,EAAa,QAAsBG,OAAhBJ,EAAgB,OACvErB,EAAA0B,OAAOG,QAAQ,sBAAyCJ,OAAnBH,EAAa,QAAsBG,OAAhBJ,EAAgB,YAE1ET,GAAKP,EAAKQ,QAjBfX,EAAM4B,aAAa,WAAY,YAC/BrB,YAAW,W,OAAMP,EAAM6B,gBAAgB,cAXnB,IAAhBzB,EAAOO,OAA6B,IAAdR,EAAKQ,OACrBP,EAAOO,QAAUR,EAAKQ,OAASN,EAAOM,MAAQ,OAE/CN,EAAOM,MAAQ,KAAO,KAW/B,IAAK,IAAImB,EAAI,EAAGA,EAAIzB,EAAOM,MAAOmB,GAAK,EAACC,EAAAD,MAkB1C9B,EAAMM,iBAAiB,SADN,SAAC0B,G,OAAMA,EAAEC,oB","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst start = document.querySelector('[type=\"submit\"]');\nconst step = document.querySelector('[name=\"step\"]');\nconst delayQ = document.querySelector('[name=\"delay\"]');\nconst amount = document.querySelector('[name=\"amount\"]');\n//  let a = \n//   ;\nfunction createPromise(position, delay) {\n  \n  return new Promise((resolve, reject) => {\n  \n    setTimeout(() => {\n     \n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        // Fulfill\n         \n        resolve(\n          {\n            position,\n            delay,\n          }\n        )\n      } else {\n        // Reject\n        reject({\n          position,\n          delay,\n        }\n        )\n      }\n    }, +delay )\n  });\n \n};\n//функция контроля кнопки по времени\nconst num = 2600;\nconst disabledButton = () => {\n  if (delayQ.value != \"\" && step.value != \"\")\n  { return +delayQ.value + (+step.value * +amount.value + +num); }\n  else {\n   return +amount.value + +num + 400;\n  }\n};\n\n//генерация по\n\nstart.addEventListener('click', () => { \n  start.setAttribute('disabled', 'disabled');\n  setTimeout(() => start.removeAttribute('disabled'),\n    disabledButton());\n   \n  for (let i = 0; i < amount.value; i += 1) {\n         setTimeout(() => {\n         createPromise(i, delayQ.value).then(({ position, delay }) => {\n           const descriptionTime = (+delay + i * +step.value);\n           const positionTime = +position + 1;\n            console.log(`✅ Fulfilled promise ${positionTime} in ${descriptionTime}ms`);\n           Notify.success(`✅ Fulfilled promise ${positionTime} in ${descriptionTime}ms`);\n         }).catch(({ position, delay }) => {\n        const descriptionTime = (+delay + i * +step.value);\n           const positionTime = +position + 1;\n         console.log(`❌ Rejected promise ${positionTime} in ${descriptionTime}ms`);\n         Notify.failure(`❌ Rejected promise ${positionTime} in ${descriptionTime}ms`);;\n      });\n    }, i * +step.value);\n  };\n  });\n\nconst stopLink = (e) => e.preventDefault();\nstart.addEventListener('click', stopLink);"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$start","document","querySelector","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$delayQ","$ce04d3a99e08e73b$var$amount","addEventListener","setTimeout","position","delay","i","value","Promise","resolve","reject","Math","random","then","param","descriptionTime","positionTime","console","log","concat","Notify","success","catch","failure","setAttribute","removeAttribute","i1","_loop","e","preventDefault"],"version":3,"file":"03-promises.163e4bb1.js.map"}