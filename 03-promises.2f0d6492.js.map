{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAQC,SAASC,cAAc,mBAC/BC,EAAOF,SAASC,cAAc,iBAC9BE,EAASH,SAASC,cAAc,kBAChCG,EAASJ,SAASC,cAAc,mBAsCtBF,EAAVM,iBAAiB,SAAS,KAC9BN,EAAMO,aAAa,WAAY,YAC/BC,YAAW,IAAMR,EAAMS,gBAAgB,aAVnB,IAAhBL,EAAOM,OAA6B,IAAdP,EAAKO,OACrBN,EAAOM,QAAUP,EAAKO,OAASL,EAAOK,MAAQ,OAE/CL,EAAOK,MAAQ,KAAO,KAS/B,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAOK,MAAOC,GAAK,EACrCH,YAAW,KAzCf,IAAuBI,EAAUC,GAAVD,EA0CHT,EAAKO,MA1CQG,EA0CDT,EAAOM,MAxC7B,IAAII,SAAQ,CAACC,EAASC,KAC5BR,YAAW,KACaS,KAAKC,SAAW,GAGpCH,EACE,C,SACEH,E,MACAC,IAKJG,EAAO,C,SACLJ,E,MACAC,MAIHA,OAqBuCM,MAAK,EAACP,SAAEA,EAAQC,MAAEA,MACxDO,QAAQC,IAAI,uBAAqBT,QAAiBC,OAC/Cf,EAAAwB,OAAOC,QAAQ,uBAAqBX,QAAiBC,UACvDW,OAAM,EAACZ,SAAEA,EAAQC,MAAEA,MACnBO,QAAQC,IAAI,sBAAoBT,QAAiBC,OACjDf,EAAAwB,OAAOG,QAAQ,sBAAoBb,QAAeC,YAEpDF,EAAIR,EAAKO,UAKhBV,EAAMM,iBAAiB,SADLoB,GAAMA,EAAEC","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst start = document.querySelector('[type=\"submit\"]');\nconst step = document.querySelector('[name=\"step\"]');\nconst delayQ = document.querySelector('[name=\"delay\"]');\nconst amount = document.querySelector('[name=\"amount\"]');\n\nfunction createPromise(position, delay) {\n    \n  return  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        // Fulfill\n        resolve(\n          {\n            position,\n            delay\n          }\n        )\n      } else {\n        // Reject\n        reject({\n          position,\n          delay\n        }\n        )\n      }\n    }, delay)\n  });\n \n};\n//функция контроля кнопки по времени\nconst num = 2600;\nconst disabledButton = () => {\n  if (delayQ.value != \"\" && step.value != \"\")\n  { return +delayQ.value + (+step.value * +amount.value + +num); }\n  else {\n   return +amount.value + +num + 400;\n  }\n};\n\n//генерация по клику\nstart.addEventListener('click', () => {\n  start.setAttribute('disabled', 'disabled');\n  setTimeout(() => start.removeAttribute('disabled'),\n   disabledButton());\n  for (let i = 0; i < amount.value; i += 1) {\n    setTimeout(() => {\n      createPromise(step.value, delayQ.value).then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n           Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }).catch(({ position, delay }) => {\n         console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n         Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);;\n      });\n    }, i * step.value);\n  };\n  });\n\nconst stopLink = (e) => e.preventDefault();\nstart.addEventListener('click', stopLink);"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$start","document","querySelector","$47d4ff9957288465$var$step","$47d4ff9957288465$var$delayQ","$47d4ff9957288465$var$amount","addEventListener","setAttribute","setTimeout","removeAttribute","value","i","position","delay","Promise","resolve","reject","Math","random","then","console","log","Notify","success","catch","failure","e","preventDefault"],"version":3,"file":"03-promises.2f0d6492.js.map"}